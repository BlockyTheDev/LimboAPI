//file:noinspection GroovyAssignabilityCheck

import com.github.spotbugs.snom.SpotBugsTask

buildscript {
    dependencies {
        classpath "gradle.plugin.com.github.jengelman.gradle.plugins:shadow:7.0.0"
    }
}

plugins {
    id "java"
    id "com.github.spotbugs" version "4.7.1" apply false
    id "org.cadixdev.licenser" version "0.6.1" apply false
}

allprojects {
    apply plugin: "com.github.spotbugs"
    compileJava.options.encoding = "UTF-8"

    group = "net.elytrium"
    version = "1.0.2"

    tasks.withType(JavaCompile) {
        options.encoding = "UTF-8"
    }

    java {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }

    repositories {
        mavenLocal()
        mavenCentral()

        maven {
            name = "velocitypowered-repo"
            url = "https://repo.velocitypowered.com/snapshots/"
        }
    }

    tasks.withType(SpotBugsTask) {
        reports {
            html {
                enabled = true
                destination = file("$buildDir/reports/spotbugs/main/spotbugs.html")
                stylesheet = "fancy-hist.xsl"
            }
        }
    }
}
